export function validate_tax_id(e,r,i){i="MALE"===i||1===i||"1"===i?1:0;let l,t,a,d,n,s,u,f=[];if(10===(e=e.replace(/[^0-9+]/gi,"")).length){for(l=[31,28,31,30,31,30,31,31,30,31,30,31],(a=e.substr(8,1)%2?1:0)!==i&&f.push("invalid gender"),n=e.substr(0,5),u=1900,d=t=1;0<n;)if(n>(s=0==u%4&&0!=u%100||0==u%400?366:365))n-=s,u++;else for(366===s&&(l[1]=29),s=0;12>s;s++){if(!(n>l[s])){t=n,n=0;break}n-=l[s],d++}for(l=d,n=[-1,5,7,9,4,6,10,5,7],s=d=0;9>s;s++)d+=Number(e[s])*n[s];if(Number(e[9])===d%11%10){(10>t?"0":"")+t+"."+(10>l?"0":"")+l+"."+u!==r&&f.push("invalid birth date")}else f=["invalid code"];return f.length?{errors:f,valid:!1}:{valid:!0}}return{valid:!1,errors:""}};